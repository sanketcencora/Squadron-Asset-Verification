# --- Database Configuration - Using MySQL ---
quarkus.datasource.db-kind=mysql
quarkus.datasource.jdbc.url=jdbc:mysql://localhost:3306/squadron_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
quarkus.datasource.username=root
quarkus.datasource.password=root
quarkus.hibernate-orm.sql-load-script=import.sql
# Disable DevServices to use configured MySQL instead of auto-provisioned database
quarkus.datasource.devservices.enabled=false

# Production MySQL Database Configuration (same as default)
%prod.quarkus.datasource.db-kind=mysql
%prod.quarkus.datasource.jdbc.url=jdbc:mysql://localhost:3306/squadron_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
%prod.quarkus.datasource.username=root
%prod.quarkus.datasource.password=root

# Changed from drop-and-create to update to persist data across restarts
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=true

# HTTP Configuration
quarkus.http.port=8080
quarkus.http.host=0.0.0.0

# JSON Configuration
quarkus.jackson.fail-on-unknown-properties=false

# --- Dev profile overrides (also use MySQL) ---
%dev.quarkus.datasource.db-kind=mysql
%dev.quarkus.datasource.jdbc.url=jdbc:mysql://localhost:3306/squadron_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
%dev.quarkus.datasource.username=root
%dev.quarkus.datasource.password=root
%dev.quarkus.hibernate-orm.database.generation=update
%dev.quarkus.hibernate-orm.sql-load-script=import.sql

# Email Configuration (Quarkus Mailer) - Gmail with App Password
quarkus.mailer.mock=false
quarkus.mailer.host=smtp.gmail.com
quarkus.mailer.port=587
quarkus.mailer.start-tls=REQUIRED
quarkus.mailer.username=sanketdisale870@gmail.com
quarkus.mailer.password=xpztgmlvqyxhhzct
quarkus.mailer.from=sanketdisale870@gmail.com

# Application URLs
app.frontend.url=http://localhost:5173
app.backend.url=http://localhost:8080
app.email.from=sanketdisale870@gmail.com

# File upload configuration
app.upload.dir=uploads
quarkus.http.body.handle-file-uploads=true
quarkus.http.limits.max-body-size=10M